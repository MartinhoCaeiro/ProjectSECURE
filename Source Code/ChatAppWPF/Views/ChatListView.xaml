<Window x:Class="ChatAppWPF.Views.ChatListView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Conversas"
        Height="600"
        Width="400"
        WindowStyle="SingleBorderWindow"
        SizeToContent="Manual"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource BackgroundBrush}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Cabeçalho -->
            <RowDefinition Height="*"/>
            <!-- Lista de chats -->
            <RowDefinition Height="Auto"/>
            <!-- Botão novo chat -->
        </Grid.RowDefinitions>

        <!-- Header -->
        <DockPanel Grid.Row="0"
                   Margin="10"
                   LastChildFill="False">
            <TextBlock Text="Conversas"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="{DynamicResource ForegroundBrush}"
                       VerticalAlignment="Center"
                       DockPanel.Dock="Left"/>
            <Button Content="⚙"
                    Width="36"
                    Height="32"
                    Click="OpenSettings"
                    DockPanel.Dock="Right"/>

            <Button Content="Logout"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="10"
                    Click="Logout_Click"
                    Width="75"/>

        </DockPanel>

        <!-- Lista de chats -->
        <ListBox Grid.Row="1"
                 ItemsSource="{Binding Chats}"
                 SelectedItem="{Binding SelectedChat}"
                 MouseDoubleClick="Chat_DoubleClick"
                 Background="Transparent"
                 BorderThickness="0"
                 Margin="10">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Background="#22FFFFFF"
                            CornerRadius="6"
                            Padding="12,8"
                            Margin="0,4">
                        <!-- Remove margem lateral -->
                        <TextBlock Text="{Binding Name}"
                                   FontSize="16"
                                   Foreground="{DynamicResource ForegroundBrush}"/>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>

            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="HorizontalContentAlignment"
                            Value="Stretch"/>
                    <Setter Property="Padding"
                            Value="0"/>
                    <!-- Remove padding do item -->
                </Style>
            </ListBox.ItemContainerStyle>
        </ListBox>

        <!-- Botão novo chat -->
        <Button Grid.Row="2"
                Content="➕ Nova Conversa"
                Command="{Binding NewChatCommand}"
                HorizontalAlignment="Center"
                Margin="10"
                Width="200"/>
    </Grid>
</Window>
